Search.setIndex({"alltitles": {"Indices and tables": [[3, "indices-and-tables"]], "Module contents": [[0, "module-aepo"], [1, "module-aepo.mbr"], [2, "module-aepo.mbr.policy"]], "Submodules": [[0, "submodules"], [1, "submodules"], [2, "submodules"]], "Subpackages": [[0, "subpackages"], [1, "subpackages"]], "Welcome to aepo\u2019s documentation!": [[3, "welcome-to-aepo-s-documentation"]], "aepo": [[4, "aepo"]], "aepo package": [[0, "aepo-package"]], "aepo.cli module": [[0, "module-aepo.cli"]], "aepo.mbr package": [[1, "aepo-mbr-package"]], "aepo.mbr.mbr_engine module": [[1, "module-aepo.mbr.mbr_engine"]], "aepo.mbr.policy package": [[2, "aepo-mbr-policy-package"]], "aepo.mbr.policy.diverse_mbr module": [[2, "module-aepo.mbr.policy.diverse_mbr"]], "aepo.mbr.policy.mbr module": [[2, "module-aepo.mbr.policy.mbr"]], "aepo.mbr.reward_engine module": [[1, "module-aepo.mbr.reward_engine"]], "aepo.mbr.reward_model module": [[1, "module-aepo.mbr.reward_model"]], "aepo.mbr.utility_func module": [[1, "module-aepo.mbr.utility_func"]], "aepo.preprocess module": [[0, "module-aepo.preprocess"]]}, "docnames": ["aepo", "aepo.mbr", "aepo.mbr.policy", "index", "modules"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["aepo.rst", "aepo.mbr.rst", "aepo.mbr.policy.rst", "index.rst", "modules.rst"], "indexentries": {"aepo": [[0, "module-aepo", false]], "aepo() (in module aepo.cli)": [[0, "aepo.cli.aepo", false]], "aepo.cli": [[0, "module-aepo.cli", false]], "aepo.mbr": [[1, "module-aepo.mbr", false]], "aepo.mbr.mbr_engine": [[1, "module-aepo.mbr.mbr_engine", false]], "aepo.mbr.policy": [[2, "module-aepo.mbr.policy", false]], "aepo.mbr.policy.diverse_mbr": [[2, "module-aepo.mbr.policy.diverse_mbr", false]], "aepo.mbr.policy.mbr": [[2, "module-aepo.mbr.policy.mbr", false]], "aepo.mbr.reward_engine": [[1, "module-aepo.mbr.reward_engine", false]], "aepo.mbr.reward_model": [[1, "module-aepo.mbr.reward_model", false]], "aepo.mbr.utility_func": [[1, "module-aepo.mbr.utility_func", false]], "aepo.preprocess": [[0, "module-aepo.preprocess", false]], "compute_dmbr() (in module aepo.mbr.policy.diverse_mbr)": [[2, "aepo.mbr.policy.diverse_mbr.compute_dmbr", false]], "compute_mbr() (in module aepo.mbr.policy.mbr)": [[2, "aepo.mbr.policy.mbr.compute_mbr", false]], "compute_score_matrix() (in module aepo.mbr.policy.mbr)": [[2, "aepo.mbr.policy.mbr.compute_score_matrix", false]], "ds2csv() (in module aepo.preprocess)": [[0, "aepo.preprocess.ds2csv", false]], "eurus (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.Eurus", false]], "forward() (aepo.mbr.reward_model.gptrewardmodel method)": [[1, "aepo.mbr.reward_model.GPTRewardModel.forward", false]], "gbfs() (in module aepo.mbr.policy.diverse_mbr)": [[2, "aepo.mbr.policy.diverse_mbr.gbfs", false]], "generate_objective() (in module aepo.mbr.policy.diverse_mbr)": [[2, "aepo.mbr.policy.diverse_mbr.generate_objective", false]], "get_device() (aepo.mbr.reward_model.gptrewardmodel method)": [[1, "aepo.mbr.reward_model.GPTRewardModel.get_device", false]], "get_pairwise_reward() (aepo.mbr.reward_model.pairlm method)": [[1, "aepo.mbr.reward_model.PairLM.get_pairwise_reward", false]], "get_pairwise_reward() (aepo.mbr.reward_model.rewardmodel method)": [[1, "aepo.mbr.reward_model.RewardModel.get_pairwise_reward", false]], "get_pairwise_reward() (aepo.mbr.reward_model.stanfordnlp method)": [[1, "aepo.mbr.reward_model.StanfordNLP.get_pairwise_reward", false]], "get_pairwise_rewards() (aepo.mbr.reward_model.rewardmodel method)": [[1, "aepo.mbr.reward_model.RewardModel.get_pairwise_rewards", false]], "get_reward() (aepo.mbr.reward_model.eurus method)": [[1, "aepo.mbr.reward_model.Eurus.get_reward", false]], "get_reward() (aepo.mbr.reward_model.oasst method)": [[1, "aepo.mbr.reward_model.OASST.get_reward", false]], "get_reward() (aepo.mbr.reward_model.pairlm method)": [[1, "aepo.mbr.reward_model.PairLM.get_reward", false]], "get_reward() (aepo.mbr.reward_model.rewardmodel method)": [[1, "aepo.mbr.reward_model.RewardModel.get_reward", false]], "get_reward() (aepo.mbr.reward_model.stanfordnlp method)": [[1, "aepo.mbr.reward_model.StanfordNLP.get_reward", false]], "get_reward() (aepo.mbr.reward_model.starling method)": [[1, "aepo.mbr.reward_model.Starling.get_reward", false]], "get_reward_() (aepo.mbr.reward_model.starling method)": [[1, "aepo.mbr.reward_model.Starling.get_reward_", false]], "get_rewards() (aepo.mbr.reward_model.pairlm method)": [[1, "aepo.mbr.reward_model.PairLM.get_rewards", false]], "get_rewards() (aepo.mbr.reward_model.rewardmodel method)": [[1, "aepo.mbr.reward_model.RewardModel.get_rewards", false]], "get_rewards() (aepo.mbr.reward_model.starling method)": [[1, "aepo.mbr.reward_model.Starling.get_rewards", false]], "get_winratio() (aepo.mbr.reward_model.pairlm method)": [[1, "aepo.mbr.reward_model.PairLM.get_winratio", false]], "gptrewardmodel (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.GPTRewardModel", false]], "load_reward_model() (in module aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.load_reward_model", false]], "load_similarity() (in module aepo.mbr.utility_func)": [[1, "aepo.mbr.utility_func.load_similarity", false]], "local_search() (in module aepo.mbr.policy.diverse_mbr)": [[2, "aepo.mbr.policy.diverse_mbr.local_search", false]], "module": [[0, "module-aepo", false], [0, "module-aepo.cli", false], [0, "module-aepo.preprocess", false], [1, "module-aepo.mbr", false], [1, "module-aepo.mbr.mbr_engine", false], [1, "module-aepo.mbr.reward_engine", false], [1, "module-aepo.mbr.reward_model", false], [1, "module-aepo.mbr.utility_func", false], [2, "module-aepo.mbr.policy", false], [2, "module-aepo.mbr.policy.diverse_mbr", false], [2, "module-aepo.mbr.policy.mbr", false]], "oasst (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.OASST", false]], "pairlm (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.PairLM", false]], "read_dataset() (in module aepo.preprocess)": [[0, "aepo.preprocess.read_dataset", false]], "rewardmodel (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.RewardModel", false]], "run_mbr() (in module aepo.mbr.mbr_engine)": [[1, "aepo.mbr.mbr_engine.run_mbr", false]], "run_reward() (in module aepo.mbr.reward_engine)": [[1, "aepo.mbr.reward_engine.run_reward", false]], "stanfordnlp (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.StanfordNLP", false]], "starling (class in aepo.mbr.reward_model)": [[1, "aepo.mbr.reward_model.Starling", false]], "tokenize_pair() (aepo.mbr.reward_model.pairlm method)": [[1, "aepo.mbr.reward_model.PairLM.tokenize_pair", false]]}, "objects": {"": [[0, 0, 0, "-", "aepo"]], "aepo": [[0, 0, 0, "-", "cli"], [1, 0, 0, "-", "mbr"], [0, 0, 0, "-", "preprocess"]], "aepo.cli": [[0, 1, 1, "", "aepo"]], "aepo.mbr": [[1, 0, 0, "-", "mbr_engine"], [2, 0, 0, "-", "policy"], [1, 0, 0, "-", "reward_engine"], [1, 0, 0, "-", "reward_model"], [1, 0, 0, "-", "utility_func"]], "aepo.mbr.mbr_engine": [[1, 1, 1, "", "run_mbr"]], "aepo.mbr.policy": [[2, 0, 0, "-", "diverse_mbr"], [2, 0, 0, "-", "mbr"]], "aepo.mbr.policy.diverse_mbr": [[2, 1, 1, "", "compute_dmbr"], [2, 1, 1, "", "gbfs"], [2, 1, 1, "", "generate_objective"], [2, 1, 1, "", "local_search"]], "aepo.mbr.policy.mbr": [[2, 1, 1, "", "compute_mbr"], [2, 1, 1, "", "compute_score_matrix"]], "aepo.mbr.reward_engine": [[1, 1, 1, "", "run_reward"]], "aepo.mbr.reward_model": [[1, 2, 1, "", "Eurus"], [1, 2, 1, "", "GPTRewardModel"], [1, 2, 1, "", "OASST"], [1, 2, 1, "", "PairLM"], [1, 2, 1, "", "RewardModel"], [1, 2, 1, "", "StanfordNLP"], [1, 2, 1, "", "Starling"], [1, 1, 1, "", "load_reward_model"]], "aepo.mbr.reward_model.Eurus": [[1, 3, 1, "", "get_reward"]], "aepo.mbr.reward_model.GPTRewardModel": [[1, 3, 1, "", "forward"], [1, 3, 1, "", "get_device"]], "aepo.mbr.reward_model.OASST": [[1, 3, 1, "", "get_reward"]], "aepo.mbr.reward_model.PairLM": [[1, 3, 1, "", "get_pairwise_reward"], [1, 3, 1, "", "get_reward"], [1, 3, 1, "", "get_rewards"], [1, 3, 1, "", "get_winratio"], [1, 3, 1, "", "tokenize_pair"]], "aepo.mbr.reward_model.RewardModel": [[1, 3, 1, "", "get_pairwise_reward"], [1, 3, 1, "", "get_pairwise_rewards"], [1, 3, 1, "", "get_reward"], [1, 3, 1, "", "get_rewards"]], "aepo.mbr.reward_model.StanfordNLP": [[1, 3, 1, "", "get_pairwise_reward"], [1, 3, 1, "", "get_reward"]], "aepo.mbr.reward_model.Starling": [[1, 3, 1, "", "get_reward"], [1, 3, 1, "", "get_reward_"], [1, 3, 1, "", "get_rewards"]], "aepo.mbr.utility_func": [[1, 1, 1, "", "load_similarity"]], "aepo.preprocess": [[0, 1, 1, "", "ds2csv"], [0, 1, 1, "", "read_dataset"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:method"}, "terms": {"": 1, "0": 2, "1": 2, "100": 2, "1224": 1, "14": 2, "1978": 2, "2": [0, 2], "265": 2, "294": 2, "32": 0, "4": 0, "412": 1, "A": 2, "For": 1, "The": 0, "To": [0, 1], "access": 0, "access_token": 0, "add": 1, "algorithm": 1, "all": 1, "altern": 2, "an": 2, "analysi": 2, "annot": [0, 1], "answer": 1, "api": 0, "approxim": 2, "arrai": 2, "attention_mask": 1, "avail": [0, 1], "b": 1, "base": 1, "bay": 2, "bert": 1, "best": [1, 2], "bool": [1, 2], "cach": [0, 1], "cache_dir": 0, "callabl": [1, 2], "candidate1": 1, "candidate2": 1, "candidate_max_length": 1, "class": 1, "cli": 4, "com": [1, 2], "command": 0, "compared_answ": 1, "comput": 2, "compute_dmbr": [1, 2], "compute_mbr": [1, 2], "compute_score_matrix": [1, 2], "compute_similar": 2, "content": 4, "convert": 0, "csv": 0, "current": 1, "cyberagentailab": [1, 2], "d": 0, "datafram": 1, "dataset": [0, 1], "deberta": 0, "debug": 0, "decod": 2, "decreas": 2, "default": 0, "detail": [1, 2], "directori": [0, 1], "div_pen": 2, "divers": [0, 1, 2], "diverse_k": 1, "diverse_mbr": [0, 1], "diversity_penalti": [0, 1], "dmbr_dir": 1, "dmbr_result": 1, "ds2csv": [0, 4], "e": 2, "effici": [0, 1], "element": 2, "enabl": 0, "enough": 2, "ensur": 2, "euru": [0, 1], "factor": 2, "fals": 2, "file": 0, "file_path": 0, "filenam": 1, "find": 2, "first": 2, "fisher": 2, "flag": [1, 2], "float": [1, 2], "follow": 1, "forward": [0, 1], "from": 0, "func": 2, "function": [1, 2], "g": 2, "gbf": [1, 2], "gener": [0, 2], "generate_object": [1, 2], "get_devic": [0, 1], "get_pairwise_reward": [0, 1], "get_reward": [0, 1], "get_reward_": [0, 1], "get_winratio": [0, 1], "github": [1, 2], "gptrewardmodel": [0, 1], "greedi": 2, "guarante": 2, "http": [1, 2], "hub": [0, 1], "huggingfac": [0, 1], "hyp": 2, "hypothes": 2, "hypothesi": 2, "i": [0, 2], "implement": 1, "increment": 2, "index": [2, 3], "init": 2, "initi": 2, "input": [0, 2], "input_id": 1, "instead": 1, "instruct": [0, 1], "int": [0, 1, 2], "interfac": 0, "iter": 2, "k": 2, "l": 2, "lambda": 1, "larg": 0, "line": 0, "list": [1, 2], "load": 1, "load_reward_model": [0, 1], "load_similar": [0, 1], "local": 2, "local_search": [1, 2], "m": 2, "master": 2, "mathemat": 2, "matric": 1, "matrix": [0, 1, 2], "matrix_dir": 1, "maxim": 2, "maximum": 0, "mbr": [0, 4], "mbr_engin": [0, 4], "measur": 0, "minimum": 2, "mode": 0, "model": [0, 1], "model_path": 1, "modul": [3, 4], "more": [1, 2], "n": [0, 1, 2], "name": [0, 1], "ndarrai": 1, "neighbor": 2, "nemhaus": 2, "new": 1, "non": 2, "none": [0, 1, 2], "np": 2, "num_annot": [0, 1], "num_instruct": [0, 1], "num_respons": [0, 1], "number": [0, 1, 2], "oasst": [0, 1], "object": [1, 2], "onli": 1, "openassist": [0, 1], "optim": 1, "otherwis": 2, "output": [0, 1], "output_dir": 1, "output_filenam": 1, "packag": 4, "page": 3, "pairlm": [0, 1], "pairwis": 0, "param": 0, "paramet": [0, 1, 2], "past_key_valu": 1, "path": 0, "pd": 1, "penalti": [0, 1, 2], "per": [0, 1], "polici": [0, 1], "position_id": 1, "prefer": [0, 1], "preprocess": 4, "program": 2, "provid": 2, "purpos": 1, "question": 1, "read": 0, "read_dataset": [0, 4], "remov": 2, "repositori": [0, 1], "respons": [0, 1], "result": 1, "return": [0, 1, 2], "reward": [0, 1], "reward_engin": [0, 4], "reward_model": [0, 4], "reward_model_id": 1, "rewardmodel": [0, 1], "risk": 2, "run": 1, "run_mbr": [0, 1], "run_reward": [0, 1], "sampl": [0, 1, 2], "sample_dir": [0, 1], "save": 0, "score": [1, 2], "score_funct": 2, "search": [2, 3], "see": [1, 2], "select": [1, 2], "sentbert": 1, "sentenc": 1, "seq_len": 1, "set": [0, 2], "sim": 1, "similar": [0, 1, 2], "similarity_measur": 0, "size": 1, "slightli": 2, "small": 2, "solut": 2, "sourc": [1, 2], "source_max_length": 1, "split": 0, "src": 2, "src_input": 2, "stanfordnlp": [0, 1], "starl": [0, 1], "str": [0, 1, 2], "strategi": 0, "submodul": 4, "submodular": 2, "subpackag": 4, "support": 1, "than": 2, "thi": 2, "token": 0, "tokenize_pair": [0, 1], "torch": 1, "tree": 2, "true": 1, "type": [0, 1, 2], "us": [0, 1], "use_matrix_cach": [0, 1], "use_sample_cach": 0, "utility_func": [0, 4], "v2": 0, "v3": 0, "we": [0, 1], "weight": 2, "west": 0, "west_of_n": [0, 1], "wolsei": 2, "wors": 2, "worst": 1, "\u03bb": 2}, "titles": ["aepo package", "aepo.mbr package", "aepo.mbr.policy package", "Welcome to aepo\u2019s documentation!", "aepo"], "titleterms": {"": 3, "aepo": [0, 1, 2, 3, 4], "cli": 0, "content": [0, 1, 2], "diverse_mbr": 2, "document": 3, "indic": 3, "mbr": [1, 2], "mbr_engin": 1, "modul": [0, 1, 2], "packag": [0, 1, 2], "polici": 2, "preprocess": 0, "reward_engin": 1, "reward_model": 1, "submodul": [0, 1, 2], "subpackag": [0, 1], "tabl": 3, "utility_func": 1, "welcom": 3}})